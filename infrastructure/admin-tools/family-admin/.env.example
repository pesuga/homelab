# Family Admin Panel - Environment Variables
# Copy this to .env.local for local development

# ============================================
# Server-Side Variables (API Routes)
# ============================================
# These are used by Next.js API routes running on the server
# They are NOT exposed to the browser

# Family Assistant Backend (production: internal k8s service)
FAMILY_API_URL=http://family-assistant-backend.homelab.svc.cluster.local:8001

# Llama.cpp LLM Service (production: internal k8s service)
LLAMACPP_API_URL=http://llamacpp-kimi-vl-service.llamacpp.svc.cluster.local:8080

# Mem0 Memory Service (production: internal k8s service)
MEM0_API_URL=http://mem0.homelab.svc.cluster.local:8080

# For local development, use localhost or Tailscale IPs:
# FAMILY_API_URL=http://localhost:8001
# LLAMACPP_API_URL=http://100.86.122.109:8081
# MEM0_API_URL=http://localhost:8080

# ============================================
# Client-Side Variables (Browser)
# ============================================
# These are embedded in the browser JavaScript bundle
# Prefix with NEXT_PUBLIC_ to expose to browser

# Family Assistant App URL
NEXT_PUBLIC_APP_URL=https://app.fa.pesulabs.net

# For local development:
# NEXT_PUBLIC_APP_URL=http://localhost:3001

# ============================================
# Authentication
# ============================================

# NextAuth Secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-secret-key-here

# NextAuth URL (the URL of this admin panel)
NEXTAUTH_URL=https://admin.fa.pesulabs.net

# For local development:
# NEXTAUTH_URL=http://localhost:3000

# ============================================
# Application Settings
# ============================================

# Environment
NODE_ENV=development
ENVIRONMENT=development

# Logging
LOG_LEVEL=DEBUG

# For production:
# NODE_ENV=production
# ENVIRONMENT=production
# LOG_LEVEL=INFO

# ============================================
# Development Notes
# ============================================
#
# 1. API Routes vs Client-Side:
#    - Browser code can only access NEXT_PUBLIC_* variables
#    - Server-side code (API routes) can access all variables
#    - Use API routes to proxy requests to internal services
#
# 2. Local Development Setup:
#    a. Copy this file to .env.local
#    b. Update service URLs to local/Tailscale addresses
#    c. Generate NEXTAUTH_SECRET: openssl rand -base64 32
#    d. Run: npm run dev
#
# 3. Production Deployment:
#    - All variables are set in Kubernetes deployment YAML
#    - See: infrastructure/kubernetes/family-assistant-admin/deployment.yaml
#    - Secrets stored in family-assistant-secrets
#
# 4. Testing API Routes:
#    curl http://localhost:3000/api/health
#    curl -X POST http://localhost:3000/api/family/chat \
#      -H "Content-Type: application/json" \
#      -d '{"message": "Hello"}'
