# Homelab Environment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to git!

# ========================================
# Node Configuration
# ========================================

# Compute Node
COMPUTE_NODE_IP=192.168.8.129
COMPUTE_NODE_HOSTNAME=pesubuntu
COMPUTE_NODE_TAILSCALE_IP=100.86.122.109

# Service Node
SERVICE_NODE_IP=192.168.8.185
SERVICE_NODE_HOSTNAME=asuna
SERVICE_NODE_TAILSCALE_IP=100.81.76.55

# Network Node
FIREWALL_IP=192.168.8.1
FIREWALL_TAILSCALE_IP=100.64.0.1

# ========================================
# Tailscale Configuration
# ========================================

TAILSCALE_AUTHKEY=tskey-auth-xxxxxxxxxxxxxxxxxxxxx
TAILSCALE_HOSTNAME=homelab
TAILSCALE_EXIT_NODE=true

# ========================================
# LLM Configuration
# ========================================

# Ollama
OLLAMA_HOST=http://192.168.8.129:11434
OLLAMA_MODELS_PATH=/opt/ollama/models
OLLAMA_NUM_PARALLEL=2
OLLAMA_NUM_GPU=1

# Ollama API Configuration
OLLAMA_API_URL=https://ollama.homelab.pesulabs.net
OLLAMA_API_URL_INTERNAL=http://ollama.ollama.svc.cluster.local:11434

# Default Model
DEFAULT_LLM_MODEL=llama3.2:latest
DEFAULT_LLM_TEMPERATURE=0.7

# ========================================
# Kubernetes Configuration
# ========================================

K3S_VERSION=v1.28.5+k3s1
K3S_TOKEN=your-super-secret-k3s-token
KUBECONFIG=/home/user/.kube/config

# Cluster Configuration
K8S_CLUSTER_NAME=homelab
K8S_API_SERVER=https://192.168.8.185:6443

# ========================================
# Database Configuration
# ========================================

# PostgreSQL
POSTGRES_HOST=postgres.homelab.local
POSTGRES_PORT=5432
POSTGRES_DB=homelab
POSTGRES_USER=admin
POSTGRES_PASSWORD=change-this-password
POSTGRES_MAX_CONNECTIONS=100

# Redis
REDIS_HOST=redis.homelab.local
REDIS_PORT=6379
REDIS_PASSWORD=change-this-password
REDIS_MAX_MEMORY=2gb

# ========================================
# N8n Configuration
# ========================================

N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change-this-password
N8N_HOST=n8n.homelab.local
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_WEBHOOK_URL=http://n8n.homelab.local:5678/

# N8n Database
N8N_DB_TYPE=postgresdb
N8N_DB_POSTGRESDB_HOST=postgres.homelab.local
N8N_DB_POSTGRESDB_PORT=5432
N8N_DB_POSTGRESDB_DATABASE=n8n
N8N_DB_POSTGRESDB_USER=n8n
N8N_DB_POSTGRESDB_PASSWORD=change-this-password

# ========================================
# Monitoring Configuration
# ========================================

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-password
GRAFANA_DOMAIN=grafana.homelab.local

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d

# Loki
LOKI_PORT=3100
LOKI_RETENTION=30d

# AlertManager
ALERTMANAGER_PORT=9093

# ========================================
# Backup Configuration
# ========================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/mnt/backups
BACKUP_ENCRYPTION_KEY=change-this-encryption-key

# Google Drive Backup (optional)
GDRIVE_ENABLED=false
GDRIVE_FOLDER_ID=your-folder-id
GDRIVE_CREDENTIALS_PATH=/home/user/.config/gdrive/credentials.json

# ========================================
# Security Configuration
# ========================================

# JWT Secret for APIs
JWT_SECRET=your-jwt-secret-here
JWT_EXPIRATION=24h

# API Keys
API_KEY_ADMIN=your-admin-api-key
API_KEY_READONLY=your-readonly-api-key

# SSL/TLS
TLS_ENABLED=true
TLS_CERT_PATH=/etc/ssl/certs
TLS_KEY_PATH=/etc/ssl/private

# ========================================
# GitHub Configuration
# ========================================

GITHUB_TOKEN=ghp_your_github_token_here
GITHUB_USERNAME=yourusername
GITHUB_ORG=rakuflow
GITHUB_REPO=homelab

# ========================================
# Notification Configuration
# ========================================

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=homelab@yourdomain.com
ALERT_EMAIL=your-email@gmail.com

# Slack (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#homelab-alerts

# Discord (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL

# ========================================
# Development Configuration
# ========================================

# Environment
NODE_ENV=production
LOG_LEVEL=info
DEBUG=false

# Feature Flags
FEATURE_AGENT_WORKFLOWS=true
FEATURE_ADVANCED_MONITORING=true
FEATURE_AUTO_SCALING=false

# ========================================
# Claude Configuration
# ========================================

# For Claude Code MCP servers
NOTION_API_KEY=secret_your_notion_api_key
ANTHROPIC_API_KEY=sk-ant-your-api-key

# ========================================
# AgentStack Configuration
# ========================================

AGENTSTACK_PORT=8080
AGENTSTACK_DATABASE_URL=postgresql://agentstack:password@192.168.8.185:5432/agentstack
AGENTSTACK_REDIS_URL=redis://:password@192.168.8.185:6379

# ========================================
# Resource Limits
# ========================================

# Compute Node
COMPUTE_NODE_CPU_LIMIT=80%
COMPUTE_NODE_MEM_LIMIT=80%
COMPUTE_NODE_GPU_LIMIT=90%

# Service Node
SERVICE_NODE_CPU_LIMIT=70%
SERVICE_NODE_MEM_LIMIT=75%

# ========================================
# Timezone
# ========================================

TZ=America/New_York
